// -*- mode: c++ -*-

//
// project pewter
// author Maximilien M. Cura
//

#ifndef __PEWTER_DISPLAY_VIEW
#define __PEWTER_DISPLAY_VIEW

#include <Venice/Math/Integers>
#include <Pewter/Glyph>
#include <Pewter/Math/Geometry>
#include <Pewter/Display/Display>
#include <Pewter/Display/Buffer>
#include <Pewter/Event/Event>

#include <list>

namespace pewter::display {
    struct View
    {
        std::list<Buffer *> view_buffers;
        event::EventResponderStack view_event_responders;
        math::Rect<DisplayCoordinate> view_box;
        event::EventID view_size_change_event_id;
        event::EventID view_termination_event_id;

        bool bufferstack_changed;

        View (math::Rect<DisplayCoordinate>, pewter::event::EventRegistry *);
        ~View ();

        void add_buffer (Buffer *);
        void remove_buffer (Buffer *);
        vnz::math::_usize depth ();
        std::vector<Buffer *> get_buffers ();

        void notify_of_resize (math::Rect<DisplayCoordinate>);
    };
}

#endif /* !@__PEWTER_DISPLAY_VIEW */
